
const { resolve } = require('path');

module.exports = {
    appUrl: '/insights/malware',
    debug: true,
    useProxy: process.env.PROXY === 'true',
    proxyVerbose: true,
    interceptChromeConfig: false,
    plugins: [],
    ...(process.env.HOT ? { hotReload: process.env.HOT === 'true' } : { hotReload: true }),
    ...(process.env.port ? { port: parseInt(process.env.port) } : {}),
    moduleFederation: {
        exclude: ['react-router-dom'],
        shared: [
            {
                'react-router-dom': {
                    singleton: true,
                    import: false,
                    version: '^6.3.0',
                    requiredVersion: '^6.3.0'
                }
            }
        ],
        exposes: {
            './RootApp': resolve(
                __dirname,
                `/src/${process.env.NODE_ENV !== 'production' ? 'Dev' : ''}AppEntry`
            )
        }
    }
};

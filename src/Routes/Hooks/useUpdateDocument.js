import { useEffect } from 'react';
import { useLocation } from 'react-router-dom';
import { useChrome } from '@redhat-cloud-services/frontend-components/useChrome';

export const DEFAULT_TITLE = 'Malware | Red Hat Insights';
export const DEFAULT_TITLE_SUFFIX = ` - ${DEFAULT_TITLE}`;

const defaultTitleSuffixed = (title) => `${title}${DEFAULT_TITLE_SUFFIX}`;

export const useTitleEntity = (route, entityTitle) => {
    const location = useLocation();
    const chrome = useChrome();

    useEffect(() => {
        const title = entityTitle
            ? route?.replace('$entityTitle', entityTitle)
            : route;
        chrome.updateDocumentTitle(defaultTitleSuffixed(title || DEFAULT_TITLE));
    }, [chrome, entityTitle, location, route]);
};

export default useTitleEntity;

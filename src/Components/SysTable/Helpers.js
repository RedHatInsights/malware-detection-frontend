import { matchOptions } from './constants';

export const buildFilterChips = (filters) => {
    let filterConfig = [];
    const buildChips = () => {
        {
            const match = matchOptions.find(
                ({ value }) => value === filters.filterValues.value
            );
            const results = match
                ? [
                    {
                        name: match.label,
                        value: filters.filterValues.value,
                        id: match.value
                    }
                ]
                : [];
            return results;
        }
    };

    const processFilters = () => {
        filterConfig = filterConfig.concat([
            {
                category: 'Status',
                id: 'Status',
                chips: buildChips()
            }
        ]);
    };

    filters && processFilters();

    return filterConfig;
};

export const buildActiveFiltersConfig = (filter, setStateValue) => ({
    filters: buildFilterChips(filter),
    onDelete: (event, itemsToRemove, isAll) => {
        if (isAll) {
            setStateValue(true);
        } else {
            itemsToRemove.map((item) => {
                item.category === 'Status' && setStateValue('All') ;
            });
        }
    },
    showDeleteButton: true
});

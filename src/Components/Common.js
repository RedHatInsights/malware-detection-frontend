import { Button } from '@patternfly/react-core/dist/esm/components/Button';
import React from 'react';
import propTypes from 'prop-types';

const link = (desc, url = '#') => <Button isInline component='a' variant='link' href={url}>{desc}</Button>;

export { link };

export const gqlProps = {
    data: propTypes.object,
    loading: propTypes.bool,
    error: propTypes.object
};

export const  isBeta = () => window.location.pathname.split('/')[1] === 'beta' ? '/beta' : '';

export const expandMatchMetadata = (md) => {
    let output = '';
    md.source_type === 'file' ? (
        output += 'File Type: ' + md.file_type,
        output += '\nFile Mime Type: ' + md.mime_type,
        output += '\nFile MD5Sum: ' + md.md5sum,
        'line' in md ? (
            output += '\nMatching Line Number: ' + md.line_number,
            output += '\nMatching Line: ' + decodeURIComponent(md.line)
        ) : null)
        : output += 'Process Name: ' + md.process_name;
    return output;
};

import React from 'react';
import { Icon, Text, TextContent, TextVariants } from '@patternfly/react-core';
import { BellIcon } from '@patternfly/react-icons';
import { formatDate, isNewerThanThirtyDays } from '../helpers';
import PropTypes from 'prop-types';

export const MatchedDateColumn = ({ data, dropdownValue }) => {
  return dropdownValue === 'NOT_REVIEWED' &&
    isNewerThanThirtyDays(data.scanDate) ? (
    <TextContent>
      <Text component={TextVariants.p}>
        <Icon status="info" data-testid="new-match-bell-icon">
          <BellIcon />
        </Icon>{' '}
        {formatDate(data.scanDate)}
      </Text>
    </TextContent>
  ) : (
    <TextContent>{formatDate(data.scanDate)}</TextContent>
  );
};

MatchedDateColumn.propTypes = {
  dropdownValue: PropTypes.string,
  data: PropTypes.object,
};
